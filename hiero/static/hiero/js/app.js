// Generated by CoffeeScript 1.3.3
(function() {

  $(document).ready(function() {
    var options;
    console.log("here we go...");
    options = {
      logged_in: window.logged_in
    };
    buildPagesMenu(options);
    return render(options);
  });

  window.buildPagesMenu = function(options) {
    if (options.logged_in) {
      $(".pages-nav-list").html("<li><a id='add-button'>New Page</a></li><li class='divider'></li>");
    }
    return jQuery.get("/pages", function(pages) {
      var page, _i, _len, _results;
      _results = [];
      for (_i = 0, _len = pages.length; _i < _len; _i++) {
        page = pages[_i];
        _results.push($(".pages-nav-list").append("<li><a href='" + page.url + "'>" + page.link_title + "</a></li>"));
      }
      return _results;
    });
  };

  window.render = function(options) {
    if (options.logged_in) {
      $(".if-logged-in").show();
      $(".if-not-logged-in").hide();
      return $(".if-view-mode").hide();
    } else {
      $(".if-logged-in").hide();
      return $(".if-not-logged-in").show();
    }
  };

}).call(this);
